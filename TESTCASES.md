# Тест-кейсы для микросервиса объявлений

## 1. Ручка: Создать объявление

**TestCase 1: Успешное создание объявления с валидными данными**
- **Предусловия**: Нет
- **Шаги**:
  1. Отправить POST запрос на `/ads` с валидными данными
  2. Проверить ответ
- **Ожидаемый результат**:
  - Status Code: 201
  - В ответе присутствует поле `id`
  - Все переданные данные сохранены корректно

**TestCase 2: Создание объявления с минимальными данными**
- **Предусловия**: Нет
- **Шаги**:
  1. Отправить POST запрос на `/ads` только с обязательными полями
  2. Проверить ответ
- **Ожидаемый результат**:
  - Status Code: 201
  - Объявление создано успешно

**TestCase 3: Создание нескольких объявлений с разными sellerID**
- **Предусловия**: Нет
- **Шаги**:
  1. Создать несколько объявлений с разными sellerID
  2. Проверить ответы
- **Ожидаемый результат**:
  - Все объявления созданы успешно
  - Status Code: 201 для каждого


**TestCase 4: Создание объявления без обязательных полей**
- **Предусловия**: Нет
- **Шаги**:
  1. Отправить POST запрос на `/ads` без поля `sellerId`
  2. Проверить ответ
- **Ожидаемый результат**:
  - Status Code: 400
  - Сообщение об ошибке

**TestCase 5: Создание объявления с невалидным типом данных**
- **Предусловия**: Нет
- **Шаги**:
  1. Отправить POST запрос на `/ads` с sellerId в виде строки
  2. Проверить ответ
- **Ожидаемый результат**:
  - Status Code: 400
  - Сообщение об ошибке

**TestCase 6: Создание объявления с пустым телом запроса**
- **Предусловия**: Нет
- **Шаги**:
  1. Отправить POST запрос на `/ads` с пустым JSON
  2. Проверить ответ
- **Ожидаемый результат**:
  - Status Code: 400
  - Сообщение об ошибке

## 2. Ручка: Получить объявление по идентификатору

**TestCase 7: Успешное получение существующего объявления**
- **Предусловия**: Создано тестовое объявление
- **Шаги**:
  1. Отправить GET запрос на `/ads/{itemId}`
  2. Проверить ответ
- **Ожидаемый результат**:
  - Status Code: 200
  - Данные в ответе соответствуют созданному объявлению

**TestCase 8: Получение объявления с дополнительными параметрами**
- **Предусловия**: Создано тестовое объявление
- **Шаги**:
  1. Отправить GET запрос на `/ads/{itemId}?fields=additional_field`
  2. Проверить ответ
- **Ожидаемый результат**:
  - Status Code: 200
  - Данные корректны

**TestCase 9: Получение несуществующего объявления**
- **Предусловия**: Нет
- **Шаги**:
  1. Отправить GET запрос на `/ads/123456`
  2. Проверить ответ
- **Ожидаемый результат**:
  - Status Code: 404
  - Сообщение об ошибке

**TestCase 10: Получение объявления с невалидным ID**
- **Предусловия**: Нет
- **Шаги**:
  1. Отправить GET запрос на `/ads/abc`
  2. Проверить ответ
- **Ожидаемый результат**:
  - Status Code: 400
  - Сообщение об ошибке

## 3. Ручка: Получить все объявления по идентификатору продавца

**TestCase 11: Успешное получение объявлений существующего продавца**
- **Предусловия**: Создано несколько объявлений для одного sellerId
- **Шаги**:
  1. Отправить GET запрос на `/ads/seller/{sellerId}`
  2. Проверить ответ
- **Ожидаемый результат**:
  - Status Code: 200
  - В ответе список всех объявлений продавца
  - Количество объявлений соответствует созданным

**TestCase 12: Получение объявлений продавца с пагинацией**
- **Предусловия**: Создано несколько объявлений для одного sellerId
- **Шаги**:
  1. Отправить GET запрос на `/ads/seller/{sellerId}?page=1&size=2`
  2. Проверить ответ
- **Ожидаемый результат**:
  - Status Code: 200
  - Количество элементов соответствует запрошенному size

**TestCase 13: Получение объявлений продавца без объявлений**
- **Предусловия**: Создан sellerId без объявлений
- **Шаги**:
  1. Отправить GET запрос на `/ads/seller/{sellerId}`
  2. Проверить ответ
- **Ожидаемый результат**:
  - Status Code: 200
  - Пустой список объявлений

**TestCase 14: Получение объявлений несуществующего продавца**
- **Предусловия**: Нет
- **Шаги**:
  1. Отправить GET запрос на `/ads/seller/999999`
  2. Проверить ответ
- **Ожидаемый результат**:
  - Status Code: 404 или 200 с пустым списком

**TestCase 15: Получение объявлений с невалидным sellerId**
- **Предусловия**: Нет
- **Шаги**:
  1. Отправить GET запрос на `/ads/seller/abc`
  2. Проверить ответ
- **Ожидаемый результат**:
  - Status Code: 400
  - Сообщение об ошибке

## 4. Ручка: Получить статистику по item id

**TestCase 16: Успешное получение статистики существующего объявления**
- **Предусловия**: Создано тестовое объявление
- **Шаги**:
  1. Отправить GET запрос на `/ads/{itemId}/stats`
  2. Проверить ответ
- **Ожидаемый результат**:
  - Status Code: 200
  - Статистика содержит ожидаемые поля

### Негативные тест-кейсы

**TestCase 17: Получение статистики несуществующего объявления**
- **Предусловия**: Нет
- **Шаги**:
  1. Отправить GET запрос на `/ads/999999/stats`
  2. Проверить ответ
- **Ожидаемый результат**:
  - Status Code: 404
  - Сообщение об ошибке

**TestCase 18: Получение статистики с невалидным itemId**
- **Предусловия**: Нет
- **Шаги**:
  1. Отправить GET запрос на `/ads/abc/stats`
  2. Проверить ответ
- **Ожидаемый результат**:
  - Status Code: 400
  - Сообщение об ошибке

## 5. Интеграционные тест-кейсы

**TestCase 19: Полный цикл создания и получения объявления**
- **Предусловия**: Нет
- **Шаги**:
  1. Создать объявление
  2. Получить созданное объявление по ID
  3. Получить объявления по sellerId
  4. Получить статистику по itemId
- **Ожидаемый результат**:
  - Все шаги выполняются успешно
  - Данные согласованы между запросами

**TestCase 20: Создание и получение нескольких объявлений одного продавца**
- **Предусловия**: Нет
- **Шапы**:
  1. Создать 3 объявления с одним sellerId
  2. Получить все объявления продавца
  3. Проверить каждое объявление по отдельности
- **Ожидаемый результат**:
  - Все объявления созданы
  - Список содержит все созданные объявления
  - Данные каждого объявления корректны